{% extends "base.html" %}

{% block title %}Reset Password - Smart Split PWA{% endblock %}

{% block content %}
<div class="container">
    <div class="auth-container">
        <div class="auth-card">
            <h2>üîë Reset Password</h2>
            <p>Enter your new password below. Make sure it's strong and secure!</p>
            
            <form method="POST" class="auth-form">
                {{ form.hidden_tag() }}
                
                <div class="form-group">
                    {{ form.password.label(class="form-label") }}
                    {{ form.password(class="form-input", placeholder="Enter new password") }}
                    {% if form.password.errors %}
                        <div class="form-errors">
                            {% for error in form.password.errors %}
                                <span class="error">{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    {{ form.password2.label(class="form-label") }}
                    {{ form.password2(class="form-input", placeholder="Confirm new password") }}
                    {% if form.password2.errors %}
                        <div class="form-errors">
                            {% for error in form.password2.errors %}
                                <span class="error">{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    {{ form.submit(class="btn btn-primary btn-full") }}
                </div>
            </form>
            
            <div class="auth-links">
                <p>Remember your password? <a href="{{ url_for('login') }}">Sign in here</a></p>
            </div>
        </div>
    </div>
</div>

<div class="info-section">
    <div class="info-card">
        <h3>üõ°Ô∏è Password Guidelines</h3>
        <ul class="security-info">
            <li>‚úÖ Use at least 6 characters</li>
            <li>‚úÖ Mix of letters, numbers, and symbols</li>
            <li>‚úÖ Avoid common words or personal information</li>
            <li>‚úÖ Don't reuse old passwords</li>
        </ul>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const passwordField = document.getElementById('password');
    const confirmField = document.getElementById('password2');
    
    function validatePasswords() {
        if (passwordField.value && confirmField.value) {
            if (passwordField.value === confirmField.value) {
                confirmField.style.borderColor = '#10b981';
            } else {
                confirmField.style.borderColor = '#ef4444';
            }
        } else {
            confirmField.style.borderColor = '';
        }
    }
    
    if (passwordField && confirmField) {
        passwordField.addEventListener('input', validatePasswords);
        confirmField.addEventListener('input', validatePasswords);
    }
});
</script>
{% endblock %} 